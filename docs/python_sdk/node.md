## **Requirements**

Current version of the python SDK requires:

- running local epic node ([github code](https://github.com/EpicCash/epic), [ executables](https://epic.tech/downloads))
- access to `epic-server.toml` configuration file, by default:
=== "Windows"
    ``` 
    %USERPROFILE%\.epic\main\
    ```
=== "Linux"
    ```
    ~\.epic\main\
    ```
<hr>

## `Node` class

- `api_url` is the only required parameter to initialize `Node` class.
- `api_url` should point to the valid epic server API
- default address is: `http://127.0.0.1:3413`, you can change this in `epic-server.toml` file
- you can also connect to remote public node, working address: `https://epic-radar.com/node`
- to run `owner` api methods you have to provide `api_secret` generated by your node

<br>

Initialize and check connection status of the node:
```python
from v3 import Node

node = Node(api_url="url_to_node", api_secret="path_to_secret")

print(node.connection_status)
```
```
>>> Connected to node: MW/Epic 3.0.0 at height 1555136, 11 peers.
```

<hr>

## **Foreign API Methods**
- API calls are POST requests send to JSONRPC epic API
- default URL: `http://127.0.0.1:3413/v2/foreign/`

### get_version()
> Required: `None`

> Returned: `dictionary`

=== "Request"
    ```python
    node.get_version()
    ```

=== "Response"
    ```json
    response = {
        'block_header_version': 6, 
        'node_version': '3.0.0'
    }
    ```

### get_header()
> Required: `height`, `commit` or `hash_`

> Returned: `dictionary`

=== "Request"
    ```python
    node.get_header(height=545454)
    node.get_header(commit='09d3...7610')
    node.get_header(hash_='0as3...7340')
    ```

=== "Response"
    ```json
    response = {
        "header": {...},
        "inputs": [...],
        "kernels": [...],
        ],
        "outputs": [
            {...}
        ]
    }
    ```

### get_kernel()
> Required: `kernel`

> Returned: `dictionary`

=== "Request"
    ```python
    node.get_kernel(kernel='09d3...7610')
    ```

=== "Response"
    ```json
    response = {
        "height": 545454,
        "mmr_index": 2211662,
        "tx_kernel": {
            "excess": "...",
            "excess_sig": "...",
            "features": "Coinbase"
        }
    }
    ```

### get_block()
> Required: `height`, `commit` or `hash_`

> Returned: `dictionary`

=== "Request"
    ```python
    node.get_block(height=545454)
    node.get_block(commit='09d3...7610')
    node.get_block(hash_='0as3...7340')
    ```

=== "Response"
    ```json
    response = {
        "header": {...},
        "inputs": [...],
        "kernels": [...],
        ],
        "outputs": [
            {...}
        ]
    }
    ```
<hr>

## **Owner API Methods**
- API calls are POST requests send to JSONRPC epic API
- default URL: `http://127.0.0.1:3413/v2/owner/`

### get_status()
> Required: `None`

> Returned: `dictionary`

=== "Request"
    ```python
    node.get_status()
    ```

=== "Response"
    ```json
    response = {
        "protocol_version": "2",
		"user_agent": "MW/Epic 3.0.0",
		"connections": "12",
		"tip": {
			"height": ...,
			"last_block_pushed": "...",
			"prev_block_to_last": "...",
			"total_difficulty": ...
		},
		"sync_status": "header_sync",
		"sync_info": {
			"current_height": ...,
			"highest_height": 0
		}
    }
    ```
